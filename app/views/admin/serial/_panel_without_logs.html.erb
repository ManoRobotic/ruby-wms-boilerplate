<div class="card-body space-y-4" data-controller="serial" data-serial-device-id-value="<%= @admin.company&.serial_device_id %>">
  <!-- Status General -->
  <div class="status-section">
    <div class="flex items-center justify-between">
      <span class="font-medium">Estado Conexión:</span>
      <span data-serial-target="status" class="px-2 py-1 rounded text-sm font-medium bg-blue-100 text-blue-800">Iniciando...</span>
    </div>
  </div>

  <!-- Báscula -->
  <div class="scale-section border-t pt-4">
    <h4 class="font-medium text-gray-700 mb-2">Báscula</h4>
    <div class="mb-4">
      <label for="scale_port_select" class="block text-sm font-medium text-gray-700 mb-1">Puerto de la Báscula</label>
      <select data-serial-target="scalePort" id="scale_port_select" class="w-full px-3 py-2 border border-gray-300 rounded-md">
        <option value="">Esperando lista de puertos del cliente...</option>
      </select>
    </div>
    <div class="flex items-center justify-between mb-4">
        <span class="text-sm text-gray-500">Estado del dispositivo:</span>
        <span data-serial-target="scaleStatus" class="px-2 py-1 rounded text-xs font-medium bg-gray-100 text-gray-800 ml-2">Desconectada</span>
    </div>
  </div>

  <!-- Impresora -->
  <div class="printer-section border-t pt-4 mt-4">
    <h4 class="font-medium text-gray-700 mb-2">Impresora</h4>
    <div class="mb-4">
        <label for="printer_port_select" class="block text-sm font-medium text-gray-700 mb-1">Nombre de la Impresora</label>
        <select data-serial-target="printerPort" id="printer_port_select" class="w-full px-3 py-2 border border-gray-300 rounded-md">
          <option value="">Esperando lista de impresoras del cliente...</option>
        </select>
    </div>
    <div class="flex items-center justify-between mb-2">
      <span class="font-medium">Estado del dispositivo:</span>
      <span data-serial-target="printerStatus" class="px-2 py-1 rounded text-sm font-medium bg-gray-100 text-gray-800">Desconectada</span>
    </div>
  </div>

  <!-- Botón de Guardar -->
  <div class="border-t pt-4 mt-4">
      <button data-action="click->serial#updateConfig" class="w-full px-4 py-2 bg-blue-600 text-white font-medium rounded-md hover:bg-blue-700 transition-colors">
          Guardar y Actualizar Configuración
      </button>
  </div>
  
  <!-- Display de Peso -->
  <div class="weight-section mt-4 p-4 bg-gray-50 rounded-lg">
    <span class="font-medium">Peso actual:</span>
    <div data-serial-target="weight" class="weight-display mt-2">
      <div class="text-3xl font-bold text-center text-gray-400">--</div>
      <div class="text-sm text-center text-gray-500">Esperando datos...</div>
    </div>
  </div>
</div>
