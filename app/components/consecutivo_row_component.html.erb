<tr class="hover:bg-emerald-25" id="production_order_item_<%= item.id %>">
  <td class="px-2 py-2 text-center text-sm font-medium">
    <div class="inline-flex items-center">
      <label class="flex items-center cursor-pointer relative">
        <input type="checkbox" 
               class="consecutivo-checkbox peer h-4 w-4 cursor-pointer transition-all appearance-none rounded shadow hover:shadow-md border border-emerald-300 checked:bg-emerald-800 checked:border-emerald-800" 
               data-consecutivo-id="<%= item.id %>" 
               data-action="change->consecutivo-selection#updateSelection" 
               data-consecutivo-selection-target="consecutivoCheckbox"
               data-item-id="<%= item.id %>"
               data-folio="<%= item.folio_consecutivo %>"
               data-lote="<%= item.production_order&.lote_referencia %>"
               data-clave-producto="<%= item.production_order&.clave_producto || 'BOPPTRANS 35 / 420' %>"
               data-peso-bruto="<%= item.peso_bruto %>"
               data-peso-neto="<%= item.peso_neto %>"
               data-metros-lineales="<%= item.metros_lineales %>"
               data-no-opro="<%= item.production_order&.no_opro || item.production_order&.order_number %>"
               data-production-order-id="<%= item.production_order&.id %>" />
        <span class="absolute text-white opacity-0 peer-checked:opacity-100 top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 pointer-events-none">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3" viewBox="0 0 20 20" fill="currentColor" stroke="currentColor" stroke-width="1">
            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
          </svg>
        </span>
      </label>
    </div>
  </td>
  <td class="px-3 py-2 text-sm font-medium text-gray-900">
    <%= item.folio_consecutivo %>
  </td>
  <td class="px-3 py-2 text-sm text-center text-gray-500">
    <%= item.peso_bruto&.round(2) || '-' %>
  </td>
  <td class="px-3 py-2 text-sm text-center text-gray-500">
    <%= item.peso_neto&.round(2) || '-' %>
  </td>
  <td class="px-3 py-2 text-sm text-center text-gray-500">
    <%= item.metros_lineales&.round(1) || '-' %>
  </td>
  <td class="px-3 py-2 text-sm text-center text-gray-500">
    <%= item.micras || '-' %>
  </td>
  <td class="px-3 py-2 text-sm text-center text-gray-500">
    <%= item.ancho_mm || '-' %>
  </td>
  <%= render partial: "admin/production_order_items/print_status", locals: { item: item } %>
  <td class="px-3 py-2 text-center text-sm font-medium">
    <%= link_to 'Editar',
        edit_admin_production_order_production_order_item_path(item.production_order, item),
        class: "text-emerald-600 hover:text-emerald-900 mr-2 px-2 py-1 text-xs rounded-md hover:bg-emerald-50 transition-colors duration-200",
        data: { 
          "dialog-target": "edit-consecutivo-modal"
        } %>
    <%= link_to 'Eliminar', admin_production_order_production_order_item_path(item.production_order, item), 
        method: :delete,
        class: "text-red-600 hover:text-red-900 px-2 py-1 text-xs rounded-md hover:bg-red-50 transition-colors duration-200",
        data: { turbo_method: :delete, turbo_confirm: "¿Estás seguro de que quieres eliminar este consecutivo?" } %>
  </td>
</tr>
